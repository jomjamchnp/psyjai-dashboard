{"ast":null,"code":"var _jsxFileName = \"D:\\\\dash_kol\\\\my-app\\\\src\\\\page\\\\login.js\";\nimport React, { Component } from 'react';\nimport { StyleSheet, Text, View, TextInput, Alert, ActivityIndicator } from 'react-native';\nimport { Col, Form, Card, Button } from 'react-bootstrap';\nimport '../css/login.css'; // import firebase from '../../function/firebaseConfig';\n//import { history } from '../history'\n\nimport { useHistory } from \"react-router-dom\";\nimport firebase from '../firebasedb/firebaseconfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LOGIN extends React.Component {\n  constructor() {\n    super();\n\n    this.updateInputVal = (val, prop) => {\n      const state = this.state;\n      state[prop] = val;\n      this.setState(state);\n    };\n\n    this.userLogin = () => {\n      if (this.state.email === '' && this.state.password === '') {\n        Alert.alert('Enter details to signin!');\n      } else {\n        this.setState({\n          isLoading: true\n        });\n        firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then(res => {\n          console.log(res);\n          console.log('User logged-in successfully!');\n          this.setState({\n            isLoading: false,\n            email: '',\n            password: ''\n          });\n          this.props.navigation.navigate('Dashboard');\n        }).catch(error => this.setState({\n          errorMessage: error.message\n        }));\n      }\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      isLoading: false\n    };\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return /*#__PURE__*/_jsxDEV(View, {\n        style: styles.preloader,\n        children: /*#__PURE__*/_jsxDEV(ActivityIndicator, {\n          size: \"large\",\n          color: \"#9E9E9E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"bg\",\n      children: [/*#__PURE__*/_jsxDEV(TextInput, {\n        style: styles.inputStyle,\n        placeholder: \"Email\",\n        value: this.state.email,\n        onChangeText: val => this.updateInputVal(val, 'email')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        style: styles.inputStyle,\n        placeholder: \"Password\",\n        value: this.state.password,\n        onChangeText: val => this.updateInputVal(val, 'password'),\n        maxLength: 15,\n        secureTextEntry: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        style: styles.loginText,\n        onPress: () => this.props('register'),\n        children: \"Don't have account? Click here to signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this) //     {/* <Card id=\"login\" style={{width:'30em'}}>\n    //     <p id=\"header\">ยินดีต้อนรับ!</p>\n    //     <Form>\n    //     <Col xs={12}>\n    //     <Form.Group controlId=\"exampleForm.ControlInput1\">\n    //     <Form.Label>บัญชีผู้ใช้</Form.Label>\n    //     <Form.Control placeholder=\"บัญชีผู้ใช้\" onChange={e => {\n    //       this.setState({\n    //           username: e.target.value\n    //       })\n    //     }}/>\n    //     </Form.Group>\n    //     </Col>\n    // <  Col xs={12}>\n    // <Form.Group controlId=\"formGroupPassword\">\n    // <Form.Label>รหัสผ่าน</Form.Label>\n    // <Form.Control type=\"password\" placeholder=\"รหัสผ่าน\" onChange={e => {\n    //   this.setState({\n    //       password: e.target.value\n    //   })\n    // }}/>\n    // </Form.Group>\n    // {\n    //  this.state.status == \"no\" ?\n    //   <Form.Label id=\"err\">*บัญชีผู้ใช้และรหัสผ่านไม่ถูกต้อง</Form.Label> : null\n    // }\n    // </Col>\n    // <Button id=\"cen\" variant=\"secondary\" onClick={this.login}>เข้าสู่ระบบ</Button>\n    // {/* <p id=\"regis\">คุณยังไม่มีบัญชีผู้ใช้งาน? <a href=\"/register\">ลงทะเบียน</a></p> */}\n    // </Form>\n    // </Card> \n    // </div>*/}\n    ;\n  }\n\n}\n\nexport default LOGIN;\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    padding: 35,\n    backgroundColor: '#fff'\n  },\n  inputStyle: {\n    width: '100%',\n    marginBottom: 15,\n    paddingBottom: 15,\n    alignSelf: \"center\",\n    borderColor: \"#ccc\",\n    borderBottomWidth: 1\n  },\n  loginText: {\n    color: '#3740FE',\n    marginTop: 25,\n    textAlign: 'center'\n  },\n  preloader: {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#fff'\n  }\n});","map":{"version":3,"sources":["D:/dash_kol/my-app/src/page/login.js"],"names":["React","Component","StyleSheet","Text","View","TextInput","Alert","ActivityIndicator","Col","Form","Card","Button","useHistory","firebase","LOGIN","constructor","updateInputVal","val","prop","state","setState","userLogin","email","password","alert","isLoading","auth","signInWithEmailAndPassword","then","res","console","log","props","navigation","navigate","catch","error","errorMessage","message","render","styles","preloader","inputStyle","loginText","create","container","flex","display","flexDirection","justifyContent","padding","backgroundColor","width","marginBottom","paddingBottom","alignSelf","borderColor","borderBottomWidth","color","marginTop","textAlign","left","right","top","bottom","position","alignItems"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { StyleSheet, Text, View, TextInput, Alert, ActivityIndicator } from 'react-native';\r\nimport { Col,Form,Card,Button, } from 'react-bootstrap'\r\nimport '../css/login.css'\r\n// import firebase from '../../function/firebaseConfig';\r\n//import { history } from '../history'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport firebase from '../firebasedb/firebaseconfig';\r\n\r\nclass LOGIN extends React.Component {\r\n    constructor() {   \r\n    super();\r\n    this.state = { \r\n      email: '', \r\n      password: '',\r\n      isLoading: false\r\n    }\r\n  }\r\n \r\n  updateInputVal = (val, prop) => {\r\n    const state = this.state;\r\n    state[prop] = val;\r\n    this.setState(state);\r\n  }\r\n\r\n  userLogin = () => {\r\n    if(this.state.email === '' && this.state.password === '') {\r\n      Alert.alert('Enter details to signin!')\r\n    } else {\r\n      this.setState({\r\n        isLoading: true,\r\n      })\r\n      firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(this.state.email, this.state.password)\r\n      .then((res) => {\r\n        console.log(res)\r\n        console.log('User logged-in successfully!')\r\n        this.setState({\r\n          isLoading: false,\r\n          email: '', \r\n          password: ''\r\n        })\r\n        this.props.navigation.navigate('Dashboard')\r\n      })\r\n      .catch(error => this.setState({ errorMessage: error.message }))\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if(this.state.isLoading){\r\n      return(\r\n        <View style={styles.preloader}>\r\n          <ActivityIndicator size=\"large\" color=\"#9E9E9E\"/>\r\n        </View>\r\n      )\r\n    }    \r\n    return (\r\n      <div class=\"bg\">\r\n         <TextInput\r\n          style={styles.inputStyle}\r\n          placeholder=\"Email\"\r\n          value={this.state.email}\r\n          onChangeText={(val) => this.updateInputVal(val, 'email')}\r\n        />\r\n        <TextInput\r\n          style={styles.inputStyle}\r\n          placeholder=\"Password\"\r\n          value={this.state.password}\r\n          onChangeText={(val) => this.updateInputVal(val, 'password')}\r\n          maxLength={15}\r\n          secureTextEntry={true}\r\n        />   \r\n        \r\n\r\n        <Text \r\n          style={styles.loginText}\r\n          onPress={() => this.props('register')}>\r\n          Don't have account? Click here to signup\r\n        </Text> \r\n        </div>\r\n          //     {/* <Card id=\"login\" style={{width:'30em'}}>\r\n          //     <p id=\"header\">ยินดีต้อนรับ!</p>\r\n          //     <Form>\r\n          //     <Col xs={12}>\r\n          //     <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n          //     <Form.Label>บัญชีผู้ใช้</Form.Label>\r\n          //     <Form.Control placeholder=\"บัญชีผู้ใช้\" onChange={e => {\r\n          //       this.setState({\r\n          //           username: e.target.value\r\n          //       })\r\n          //     }}/>\r\n          //     </Form.Group>\r\n          //     </Col>\r\n          // <  Col xs={12}>\r\n          // <Form.Group controlId=\"formGroupPassword\">\r\n          // <Form.Label>รหัสผ่าน</Form.Label>\r\n          // <Form.Control type=\"password\" placeholder=\"รหัสผ่าน\" onChange={e => {\r\n          //   this.setState({\r\n          //       password: e.target.value\r\n          //   })\r\n          // }}/>\r\n          // </Form.Group>\r\n          // {\r\n          //  this.state.status == \"no\" ?\r\n          //   <Form.Label id=\"err\">*บัญชีผู้ใช้และรหัสผ่านไม่ถูกต้อง</Form.Label> : null\r\n          // }\r\n          // </Col>\r\n          // <Button id=\"cen\" variant=\"secondary\" onClick={this.login}>เข้าสู่ระบบ</Button>\r\n          // {/* <p id=\"regis\">คุณยังไม่มีบัญชีผู้ใช้งาน? <a href=\"/register\">ลงทะเบียน</a></p> */}\r\n          // </Form>\r\n          // </Card> \r\n          // </div>*/}\r\n      \r\n                                \r\n      \r\n    );\r\n  }\r\n}export default LOGIN;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    padding: 35,\r\n    backgroundColor: '#fff'\r\n  },\r\n  inputStyle: {\r\n    width: '100%',\r\n    marginBottom: 15,\r\n    paddingBottom: 15,\r\n    alignSelf: \"center\",\r\n    borderColor: \"#ccc\",\r\n    borderBottomWidth: 1\r\n  },\r\n  loginText: {\r\n    color: '#3740FE',\r\n    marginTop: 25,\r\n    textAlign: 'center'\r\n  },\r\n  preloader: {\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    position: 'absolute',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#fff'\r\n  }\r\n});"]},"metadata":{},"sourceType":"module"}